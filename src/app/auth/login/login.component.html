<!-- <div class="login">
    <div class="help-contact">
        <a href="#"><i class="fas fa-question-circle"></i> Help</a>
        <a href="#"><i class="fas fa-phone-alt"></i> Contact Us</a>
    </div>
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <div class="mt-5 text-center">
                    <h1 class="header-text">Streamlined Management for Exceptional Teaching</h1>
                    <p class="sub-text">Optimising administrative processes to free up time and resources, enabling
                        teachers
                        to deliver outstanding education and foster student success.</p>
                </div>
            </div>
            <div class="col-md-6 d-flex justify-content-end"> -->
<!-- Login Form -->
<!-- <div *ngIf="!forgotPasswordMode && !registerMode" class="login-container">
                    <div class="login-header">
                        <span class="d-flex" style="justify-content: center;">
                            <img src="assets/images/logo.jpg" alt="EduStaff Logo" width="50" height="50">
                            <h3><b>Edu</b>Staff</h3>
                        </span>
                        <p>Login to your account</p>
                    </div>

                    <div *ngIf="errorMessage" class="alert alert-danger">
                        {{ errorMessage }}
                    </div>

                    <form class="loginForm" #loginForm="ngForm" (ngSubmit)="onLogin()">
                        <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" [(ngModel)]="email" class="form-control" id="email" name="email"
                            placeholder="Enter your email" required #emailInput="ngModel">
                        <div *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)" class="text-danger">
                            <div *ngIf="emailInput.errors?.['required']">Email is required.</div>
                        </div>
                    </div> -->
<!-- <div class="mb-3">
                            <label for="username" class="form-label">Username</label>
                            <input type="username" [(ngModel)]="username" class="form-control" id="username"
                                name="username" placeholder="Enter your Usernae" maxlength="50" minlength="3"
                                #usernameInput="ngModel">
                            <div *ngIf="usernameInput.invalid && (usernameInput.dirty || usernameInput.touched)"
                                class="text-danger">
                                <div *ngIf="usernameInput.errors?.['required']">Username is required.</div>
                            </div>
                        </div> -->
<!-- <div class="mb-3 position-relative">
                            <label for="password" class="form-label">Password</label>
                            <div style="position: relative;">
                                <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="password"
                                    class="form-control" id="password" name="password" placeholder="Enter your password"
                                    required maxlength="50" minlength="6" pattern="^[a-zA-Z0-9]+$"
                                    #passwordInput="ngModel">
                                <i class="fas" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"
                                    (click)="togglePasswordVisibility()"
                                    style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
                            </div>
                            <div *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)"
                                class="text-danger">
                                <div *ngIf="passwordInput.errors?.['required']">Password is required.</div>

                            </div>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" [(ngModel)]="rememberMe" class="form-check-input" id="rememberMe"
                                name="rememberMe">
                            <label class="form-check-label" for="rememberMe">Remember Me</label> -->
<!-- <a class="float-end" (click)="toggleForgotPassword()">Forgot Password?</a> -->
<!-- </div>
                        <button type="submit" class="btn btn-primary w-100"
                            style="background-color: #800000; border: none;"
                            [disabled]="!loginForm.form.valid">LOGIN</button>
                    </form>

                    <div class="login-footer">
                        <p>Â© Copyright 2024. All rights reserved to CMD Schools.</p>
                    </div>
                </div>

                <div *ngIf="registerMode" class="login-container">
                    <div class="login-header text-center">
                      <img src="assets/images/logo.jpg" alt="EduStaff Logo" width="50" height="50">
                      <h2>Register</h2>
                      <p>Create a new account</p>
                    </div>
                  
                    <form #registerForm="ngForm" (ngSubmit)="onRegister()">
                      <div class="mb-3">
                        <label for="firstName" class="form-label">First Name</label>
                        <input type="text" [(ngModel)]="firstName" class="form-control" id="firstName" name="firstName"
                          placeholder="Enter your first name" required>
                      </div>
                  
                      <div class="mb-3">
                        <label for="lastName" class="form-label">Last Name</label>
                        <input type="text" [(ngModel)]="lastName" class="form-control" id="lastName" name="lastName"
                          placeholder="Enter your last name" required>
                      </div>
                  
                      <div class="mb-3">
                        <label for="email" class="form-label">Email ID</label>
                        <input type="email" [(ngModel)]="email" class="form-control" id="email" name="email" placeholder="Enter your email"
                          required>
                      </div>
                  
                      <div class="mb-3">
                        <label for="dateOfBirth" class="form-label">Date of Birth</label>
                        <input type="date" [(ngModel)]="dateOfBirth" class="form-control" id="dateOfBirth" name="dateOfBirth" required>
                      </div>

                      <div class="mb-3">
                        <label for="roleID" class="form-label">Role</label>
                        <select [(ngModel)]="roleID" class="form-control" id="roleID" name="roleID" required>
                          <option [ngValue]="null" disabled selected>Select Role</option>
                          <option *ngFor="let role of roles" [value]="role.id">{{ role.name }}</option>
                        </select>
                      </div>
                  
                      <div class="mb-3 position-relative">
                        <label for="newPassword" class="form-label">Password</label>
                        <div style="position: relative;">
                          <input [type]="showNewPassword ? 'text' : 'password'" [(ngModel)]="newPassword" class="form-control"
                            id="newPassword" name="newPassword" placeholder="Enter your password" required>
                          <i class="fas" [ngClass]="showNewPassword ? 'fa-eye-slash' : 'fa-eye'" (click)="toggleNewPasswordVisibility()"
                            style="position: absolute; right: 10px; top: 50%; cursor: pointer;"></i>
                        </div>
                      </div>
                  
                      <div class="mb-3 position-relative">
                        <label for="confirmPassword" class="form-label">Confirm Password</label>
                        <div style="position: relative;">
                          <input [type]="showConfirmPassword ? 'text' : 'password'" [(ngModel)]="confirmPassword" class="form-control"
                            id="confirmPassword" name="confirmPassword" placeholder="Confirm your password" required>
                          <i class="fas" [ngClass]="showConfirmPassword ? 'fa-eye-slash' : 'fa-eye'"
                            (click)="toggleConfirmPasswordVisibility()"
                            style="position: absolute; right: 10px; top: 50%; cursor: pointer;"></i>
                        </div>
                      </div>
                  
                      <button type="submit" class="btn btn-primary w-100" style="background-color: #800000; border: none;"
                        [disabled]="!registerForm.form.valid">REGISTER</button>
                    </form>
                  
                    <div class="login-footer text-center mt-3">
                      <button class="btn btn-link" (click)="toggleLogin()">Back to Login</button>
                    </div>
                  </div> -->


<!-- <div *ngIf="forgotPasswordMode" class="login-container">
  <div class="login-header text-center">
    <img src="assets/images/logo.jpg" alt="EduStaff Logo" width="50" height="50">
    <h2>Forgot Password</h2>
    <p>Enter your details to reset your password</p>
  </div>

  <form #resetForm="ngForm" (ngSubmit)="onResetSubmit()">
    <div class="mb-3">
      <label for="resetEmail" class="form-label">Email ID</label>
      <input type="email" [(ngModel)]="resetEmail" class="form-control" id="resetEmail" name="resetEmail"
        placeholder="Enter your email" required>
    </div>
    <div class="mb-3 position-relative">
      <label for="newPassword" class="form-label">New Password</label>
      <div style="position: relative;">
        <input [type]="showNewPassword ? 'text' : 'password'" [(ngModel)]="newPassword" class="form-control"
          id="newPassword" name="newPassword" placeholder="Enter your new password" required>
        <i class="fas" [ngClass]="showNewPassword ? 'fa-eye-slash' : 'fa-eye'" (click)="toggleNewPasswordVisibility()"
          style="position: absolute; right: 10px; top: 50%; cursor: pointer;"></i>
      </div>
    </div>
    <div class="mb-3 position-relative">
      <label for="confirmPassword" class="form-label">Confirm Password</label>
      <div style="position: relative;">
        <input [type]="showConfirmPassword ? 'text' : 'password'" [(ngModel)]="confirmPassword" class="form-control"
          id="confirmPassword" name="confirmPassword" placeholder="Confirm your new password" required>
        <i class="fas" [ngClass]="showConfirmPassword ? 'fa-eye-slash' : 'fa-eye'"
          (click)="toggleConfirmPasswordVisibility()"
          style="position: absolute; right: 10px; top: 50%; cursor: pointer;"></i>
      </div>
    </div>
    <button type="submit" class="btn btn-primary w-100" style="background-color: #800000; border: none;"
      [disabled]="!resetForm.form.valid">RESET PASSWORD</button>
  </form>

  <div class="login-footer text-center mt-3">
    <button class="btn btn-link" (click)="toggleForgotPassword()">Back to Login</button>
  </div>
</div> -->

<!-- </div>
        </div>
    </div>
</div> -->

<div class="login">
  <div class="help-contact">
    <a href="#"><i class="fas fa-question-circle"></i> Help</a>
    <a href="#"><i class="fas fa-phone-alt"></i> Contact Us</a>
  </div>
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6">
        <div class="mt-5 text-center">
          <h1 class="header-text">Streamlined Management for Exceptional Teaching</h1>
          <p class="sub-text">
            Optimising administrative processes to free up time and resources, enabling teachers
            to deliver outstanding education and foster student success.
          </p>
        </div>
      </div>
      <div class="col-md-6 d-flex justify-content-end">
        <div *ngIf="!forgotPasswordMode && !registerMode" class="login-container">
          <div class="login-header">
            <span class="d-flex" style="justify-content: center;">
              <img src="assets/images/logo.jpg" alt="EduStaff Logo" width="50" height="50">
              <h3><b>Edu</b>Staff</h3>
            </span>
            <p>Login to your account</p>
          </div>

          <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

          <form class="loginForm" #loginForm="ngForm" (ngSubmit)="onLogin()">
            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input type="email" [(ngModel)]="email" class="form-control" id="email" name="email"
                placeholder="Enter your email" required #emailInput="ngModel">
              <div *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)" class="text-danger">
                <div *ngIf="emailInput.errors?.['required']">Email is required.</div>
              </div>
            </div>

            <div class="mb-3 position-relative">
              <label for="password" class="form-label">Password</label>
              <div style="position: relative;">
                <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="password" class="form-control"
                  id="password" name="password" placeholder="Enter your password" required maxlength="50" minlength="6"
                  pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^a-zA-Z\d])[A-Za-z\d\S]{8,20}$" #passwordInput="ngModel">
                <i class="fas" [ngClass]="!showPassword ? 'fa-eye-slash' : 'fa-eye'"
                  (click)="togglePasswordVisibility()"
                  style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
              </div>
              <div *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)" class="text-danger">
                <div *ngIf="passwordInput.errors?.['required']">Password is required.</div>
                <div *ngIf="passwordInput.errors?.['pattern']">Password must be 8â20 characters with uppercase, lowercase, number, and special character.</div>
              </div>
            </div>

            <div class="mb-3 form-check">
              <input type="checkbox" [(ngModel)]="rememberMe" class="form-check-input" id="rememberMe"
                name="rememberMe">
              <label class="form-check-label" for="rememberMe">Remember Me</label>
            </div>

            <button type="submit" class="btn btn-primary w-100" style="background-color: #800000; border: none;"
              [disabled]="!loginForm.form.valid">LOGIN</button>
          </form>

          <div class="d-flex justify-content-end mt-3">
            <!-- <p>Donât have an account? <a (click)="toggleRegister()">Sign Up</a></p> -->
            <p class="link-lab"><a (click)="toggleForgotPassword()">Forgot Password</a></p>
          </div>

          <div class="login-footer">
            <p>Â© Copyright 2024. All rights reserved to CMD Schools.</p>
          </div>
        </div>
        <div *ngIf="forgotPasswordMode" class="login-container">
          <div class="login-header">
            <!-- <img src="../../../assets/icons/forgot.png" alt="EduStaff Logo" width="50" height="50">
            <img src="../../../assets/icons/forgot1.png" alt="EduStaff Logo" width="50" height="50"> -->
            <img src="../../../assets/icons/forgot3.png" alt="EduStaff Logo" width="72" height="72">
            <!-- <img src="../../../assets/icons/forgot3.png" alt="EduStaff Logo" width="50" height="50"> -->
            
            
            <!-- <span class="d-flex" style="justify-content: center;">
                <img src="assets/images/logo.jpg" alt="EduStaff Logo" width="50" height="50">
                <h3><b>Edu</b>Staff</h3>
              </span> -->
            <p>Reset Password</p>
          </div>

          <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

          <form class="loginForm" [formGroup]="forgotPasswordForm">
            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input type="email" class="form-control" formControlName="email" id="email" name="email" placeholder="Enter your email">
              <!-- <div *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)" class="text-danger">
                  <div *ngIf="emailInput.errors?.['required']">Email is required.</div>
                </div> -->
            </div>

            <!-- <div class="mb-3 position-relative">
                <label for="password" class="form-label">Password</label>
                <div style="position: relative;">
                  <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="password" class="form-control"
                    id="password" name="password" placeholder="Enter your password" required maxlength="50" minlength="6"
                    pattern="^[a-zA-Z0-9]+$" #passwordInput="ngModel">
                  <i class="fas" [ngClass]="!showPassword ? 'fa-eye-slash' : 'fa-eye'" (click)="togglePasswordVisibility()"
                    style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;"></i>
                </div>
                <div *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)" class="text-danger">
                  <div *ngIf="passwordInput.errors?.['required']">Password is required.</div>
                  <div *ngIf="passwordInput.errors?.['pattern']">Invalid password.</div>
                </div>
              </div> -->

            <!-- <div class="mb-3 form-check">
                <input type="checkbox" [(ngModel)]="rememberMe" class="form-check-input" id="rememberMe"
                  name="rememberMe">
                <label class="form-check-label" for="rememberMe">Remember Me</label>
              </div> -->

            <button type="button" class="btn btn-primary w-100" style="background-color: #800000; border: none;"
              [disabled]="false" (click)="onResetSubmit()">Reset Password</button>
          </form>

          <div class="d-flex justify-content-center  mt-3">
            <!-- <p>Donât have an account? <a (click)="toggleRegister()">Sign Up</a></p> -->
            <p class="link-lab"><a style="text-decoration: underline; letter-spacing: 1.5px;" (click)="forgotPasswordMode = false ;registerMode=false">login</a>
            </p>
          </div>

          <div class="login-footer">
            <p>Â© Copyright 2024. All rights reserved to CMD Schools.</p>
          </div>
        </div>

        <div *ngIf="registerMode" class="login-container">
          <div class="login-header text-center">
            <img src="assets/images/logo.jpg" alt="EduStaff Logo" width="50" height="50">
            <h2>Register</h2>
            <p>Create a new account</p>
          </div>

          <form #registerForm="ngForm" (ngSubmit)="onRegister()">
            <div class="mb-3">
              <label for="username" class="form-label">Username</label>
              <input type="text" [(ngModel)]="username" class="form-control" id="username" name="username"
                placeholder="Enter your username" required>
            </div>

            <div class="mb-3">
              <label for="firstName" class="form-label">First Name</label>
              <input type="text" [(ngModel)]="firstName" class="form-control" id="firstName" name="firstName"
                placeholder="Enter your first name" required>
            </div>

            <div class="mb-3">
              <label for="lastName" class="form-label">Last Name</label>
              <input type="text" [(ngModel)]="lastName" class="form-control" id="lastName" name="lastName"
                placeholder="Enter your last name" required>
            </div>

            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input type="email" [(ngModel)]="email" class="form-control" id="email" name="email"
                placeholder="Enter your email" required>
            </div>

            <div class="mb-3">
              <label for="dateOfBirth" class="form-label">Date of Birth</label>
              <input type="date" [(ngModel)]="dateOfBirth" class="form-control" id="dateOfBirth" name="dateOfBirth"
                required>
            </div>

            <div class="mb-3">
              <label for="roleID" class="form-label">Role</label>
              <select [(ngModel)]="roleID" class="form-control" id="roleID" name="roleID" required>
                <option [ngValue]="null" disabled selected>Select Role</option>
                <option *ngFor="let role of roles" [value]="role.id">{{ role.name }}</option>
              </select>
            </div>

            <div class="mb-3 position-relative">
              <label for="newPassword" class="form-label">Password</label>
              <div style="position: relative;">
                <input [type]="showNewPassword ? 'text' : 'password'" [(ngModel)]="newPassword" class="form-control"
                  id="newPassword" name="newPassword" placeholder="Enter your password" required>
                <i class="fas" [ngClass]="showNewPassword ? 'fa-eye-slash' : 'fa-eye'"
                  (click)="toggleNewPasswordVisibility()"
                  style="position: absolute; right: 10px; top: 50%; cursor: pointer;"></i>
              </div>
            </div>

            <div class="mb-3 position-relative">
              <label for="confirmPassword" class="form-label">Confirm Password</label>
              <div style="position: relative;">
                <input [type]="showConfirmPassword ? 'text' : 'password'" [(ngModel)]="confirmPassword"
                  class="form-control" id="confirmPassword" name="confirmPassword" placeholder="Confirm your password"
                  required>
                <i class="fas" [ngClass]="showConfirmPassword ? 'fa-eye-slash' : 'fa-eye'"
                  (click)="toggleConfirmPasswordVisibility()"
                  style="position: absolute; right: 10px; top: 50%; cursor: pointer;"></i>
              </div>
            </div>

            <button type="submit" class="btn btn-primary w-100" style="background-color: #800000; border: none;"
              [disabled]="!registerForm.form.valid">REGISTER</button>
          </form>


          <div class="text-center mt-3">
            <p>Already have an account? <a (click)="toggleLogin()">Login</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>